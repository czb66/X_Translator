# X Translator - 智能翻译扩展

一个专为 X (Twitter) 设计的智能翻译浏览器扩展程序，能够自动识别使用场景并智能选择目标语言。

## 功能特性

### 🎯 自动识别场景
- **写字模式**：当你在输入框（如推文回复框）中划选文字时，自动识别为"写字"场景
- **看书模式**：在普通页面内容中划选文字时，识别为"看书"场景

### 🌍 智能目标语言
- **写字时**：
  - 自动检测当前推文的语言，将翻译目标设置为推文语言（或默认英语/通用语）
  - **可手动选择目标语言**：翻译卡片上提供语言选择器，支持12种常用语言
  - **记忆偏好**：选择的目标语言会被保存，下次使用时自动应用
- **看书时**：始终翻译成中文，方便阅读

### 🔄 一键替换
- **划词翻译**：在输入框中划选文字，自动识别并翻译
- **直接替换**：翻译结果卡片上提供"替换"按钮，点击后直接将原文替换为译文
- **快捷键支持**：在输入框中按 `Enter` 键可快速替换（无需点击按钮）
- **智能适配**：支持各种输入框类型（textarea、contenteditable、Draft.js编辑器等）
- **备用方案**：如果自动替换失败，会自动复制到剪贴板，提示手动粘贴

## 安装方法

1. 下载或克隆此项目
2. 打开 Chrome/Edge 浏览器，进入扩展程序管理页面（`chrome://extensions/`）
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹

## 使用方法

### 在输入框中划词翻译并替换

1. 访问 X (Twitter) 网站
2. **在输入框中**（推文输入框、回复框等）**划选文字**
3. 选择文字后，会自动弹出翻译卡片
4. **选择目标语言**（可选）：
   - 在翻译卡片顶部的语言选择器中选择目标语言
   - 选择后会自动重新翻译
   - 你的选择会被保存，下次使用时自动应用
5. 查看翻译结果
6. **替换方式**：
   - 点击"替换"按钮
   - 或直接按 `Enter` 键（快速替换）
7. 译文会自动替换原文，光标定位在译文末尾

### 在页面中阅读翻译

1. 在普通页面内容中**划选文字**
2. 自动翻译成中文
3. 点击"复制"按钮复制翻译结果

## 技术实现

- **Manifest V3**：使用最新的扩展程序标准
- **Content Script**：注入到页面中，实时检测文本选择
- **Google Translate API**：使用免费的翻译服务
- **智能语言检测**：自动识别文本语言

## 文件结构

```
X_Translator/
├── manifest.json      # 扩展程序配置
├── content.js         # 主要内容脚本
├── content.css        # 样式文件
├── background.js      # 后台服务
├── popup.html         # 设置页面
├── popup.js           # 设置页面脚本
└── README.md          # 说明文档
```

## 注意事项

- 需要网络连接以使用翻译服务
- 首次使用可能需要一些时间加载
- 翻译质量取决于 Google Translate API

## 未来改进

- [ ] 支持更多翻译服务（DeepL、百度翻译等）
- [ ] 更准确的语言检测
- [ ] 支持自定义快捷键
- [ ] 翻译历史记录
- [ ] 更多目标语言选项

## 许可证

MIT License
